ORACLE alapok

Az SQL utasításokban a kisbetûk és nagybetûk tetszés szerint 
keverhetõk (kivéve karakterláncok belsejében), általában a kulcsszavakat
szokás nagybetûvel írni.


Az Oracle adatbázisban különbözõ objektumok vannak, illetve hozhatók létre.
A legfontosabbak:

Tábla
Nézet (ténylegesen nincsenek tárolva az adatai)
Index (a lekérdezések gyorsítására)
Szinonima (újabb hivatkozási név pl. egy táblához)
Szekvencia (sorszámgenerátor)
Klaszter (fürtözve együtt tárolt táblák) 
PL/SQL nyelven megírt függvény vagy procedúra
Trigger
... stb.


Objektumok létrehozása:  
CREATE paranccsal 
pl. CREATE TABLE ..., CREATE VIEW ..., CREATE INDEX ...

 
Objektumok megszüntetése (törlése az adatbázisból)
DROP utasítással
pl. DROP TABLE ..., DROP VIEW ...


SÉMA

Minden objektumnak van egy tulajdonosa, aki egy adatbázis user.
Egy user tulajdonában levõ objektumok összességét a user sémájának
nevezzük. Ez alapján azt mondjuk pl, hogy egy tábla a SCOTT user
sémájában van.

Hivatkozás más sémában levõ objektumra: <séma>.<obj>

pl. SELECT * FROM nikovits.cikk;
    DELETE FROM nikovits.cikk WHERE ...
    UPDATE nikovits.cikk SET ...

(Késõbb látni fogjuk, hogy vannak olyan objektumok is, amiknek
nincs tulajdonosa.)


TÁBLA

Az alábbi egy üres táblát hoz létre:
CREATE TABLE t1(oszl1 NUMBER(10,2), oszl2 VARCHAR2(20), oszl3 DATE);

Ez fel is tölti adatokkal
CREATE TABLE t1(oszl1, oszl2, oszl3)
AS 
SELECT ...
Adattípus ilyenkor nem adható meg, azt a SELECT oszlopai fogják meghatározni.

pl. CREATE TABLE mycikk(ckod, cnev, szin, suly) AS SELECT * FROM cikk;

Vagy oszlopnevek megadása nélkül (ilyenkor a SELECT-tõl öröklõdnek az oszlopnevek)
CREATE TABLE t1
AS 
SELECT ...

pl. CREATE TABLE mycikk AS SELECT * FROM cikk;


NÉZET

CREATE VIEW v1(oszl1, oszl2, oszl3)
AS
SELECT ...

pl. CREATE VIEW piros_cikk(cikk_kod, cikk_nev, szin)
    AS SELECT ckod, cnev, szin FROM cikk WHERE szin='piros';

    SELECT * FROM piros_cikk;  

Vagy oszlopnevek megadása nélkül (ilyenkor a SELECT-tõl öröklõdnek az oszlopnevek)

CREATE VIEW v2 AS SELECT ...

pl. CREATE VIEW zold_cikk
    AS SELECT ckod, cnev, szin FROM cikk WHERE szin='zold';

    SELECT * FROM zold_cikk;  


SZINONIMA, PUBLIKUS SZINONIMA
A szinonima valakinek a sémájában van, a publikus szinonima azokon kívül,
és azt mindenki látja.

CREATE SYNONYM mycikk FOR nikovits.cikk;
SELECT * FROM mycikk;

CREATE SYNONYM zoldek FOR zold_cikk;

CREATE PUBLIC SYNONYM szin1 FOR ...

Van a SYS user tulajdonában egy DUAL nevû tábla és egy arra mutató szintén 
DUAL nevû publikus szinonima. Ezt a táblát szokás használni olyan 
lekérdezéseknél, amikor nincs szükség tényleges táblára, de a SELECT-ben
kötelezõ valamilyen táblát használni.

pl. SELECT sysdate FROM dual;
    SELECT abs(-4-6)*(10+1)/50 FROM dual;


INDEX
Az index a gyorsabb lekérdezést segíti elõ, meglétüktõl
nem függ a végeredmény tartalma.

CREATE UNIQUE INDEX i1 ON cikk(ckod);

CREATE INDEX i2 ON cikk(cnev);

CREATE INDEX i3 ON cikk(szin, suly);







